# 웹 브라우저의 캐시

로컬스토리지와 세션스토리지를 웹스토리지라고도 한다 !

**브라우저 스토리지에 저장되는 조각**을 의미한다

크롬을 사용하면 크롬에만 저장되고 .. 오리진에 종속된다고 한다

**오리진** 이란 protocol + host ( hostname + port )

---

## 로컬 스토리지

로컬 저장소는 웹 브라우저에서 키/쌍 형태로 클라이언트 브라우저에 데이터를 저장하는 방법

저장 용량은 최대 10MB 이며 보통 5MB이며 자동으로 서버로 전송되지 않는다 ( 쿠키는 자동 전송 )

**수동으로 삭제하지 않는 한 계속 로컬 저장소에 저장**된다 !

로컬 저장소에 설정, 검색, 제거 및 지우는데 사용할 수 있는 네가지 방법이 있다

- 설정 : localStorage.setItem(key, value);

- 탐색 : localStorage.getItem(key);

- 제거 : localStroage.removeItem(key);

- 초기화 : localStorage.clear();

---

## 세션 스토리지

로컬 스토리지와 매우 유사하며 **탭을 닫을때 삭제된다**

---

## 쿠키

클라이언트에 데이터를 저장하는 방법 중 하나 !

요청할때 서버에 자종으로 전송되며 클라이언트와 서버 둘다 조작이 가능

보통 서버에서 만료기한 등 설정 및 컨트롤, Set-Cookie 헤더에서 설정된 작은 조각은 4kb까지 가능

- 세션 쿠키

  Expires 또는 Max-age 와 같은 속성을 지정하지 않은 것으로 브라우저가 닫힐때 제거

- 영구 쿠키
  Expires 또는 Max-age 와 같은 속성을 지정한 것으로 브라우저가 닫힐때 만료되지 않지만

  일정 기간이나 특정 날짜가 지나면 제거

_쿠키에서 중요한 개념 (2)_

(1) httponly : 공격자가 자바스크립트로 빼낼 수 없음 ( document.cookie 로 접근 불가 )

(2) 요청이 동일한 도메인에서 시작된 경우에만 쿠키가 애플리케이션으로 전송되도록 허용

---

### 세션 ID 설정시 !

쿠키에 세션 ID 를 담는데 세션 ID 를 기반으로 클라이언트의 인증 정보를 알 수 없게 해야된다

세션 ID 를 추측하기 어렵고 랜덤하게 생성하는 알고리즘 + 사용자수 대비, 큰수로 하고 httponly 옵션,

세션 타임아웃을 걸어야 한다 ..

### 쿠키의 시큐어 코딩

![image](https://media.istockphoto.com/id/1160890852/ko/%EB%B2%A1%ED%84%B0/%EC%BF%A0%ED%82%A4-%ED%8C%9D%EC%97%85.jpg?s=1024x1024&w=is&k=20&c=rWNEJz9ZnOwnuNGPx4qF_Zz05FMyWoSe4dO_GrtekJU=)

쿠키는 간접수집에 해당하며 지침을 준수하여 서비스를 구축해야한다 ! _KISA_

---

# 로컬스토리지, 세션스토리지, 쿠키의 차이

![image](https://velog.velcdn.com/images%2Fjosworks27%2Fpost%2F6469cfcb-4dcc-482f-9788-1f5ebf8bd202%2F%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202020-03-27%2011.18.55.png)

서버에 대한 요청을 줄이고 네트워크 연결 없이 웹사이트를 더 빨리 다운로드 하기위해 존재 !

저장 목록으로는 사이트 기본 설정 커스터마이징, 로그인 상태를 저장 ..
